<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Манта Фридайфинг</title>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <header class="site-header">
    <nav class="nav">
      <a class="nav__link" href="breathing.html">ОБУЧЕНИЕ ФРИДАЙВИНГУ</a>
      <a class="nav__link" href="breathing-practices.html">ОБУЧЕНИЕ ДЫХАНИЮ</a>
      <a class="nav__link" href="events.html">СОБЫТИЯ</a>
      <a class="nav__link" href="about.html">О НАС</a>
      <a class="nav__link" href="contacts.html">КОНТАКТЫ</a>
    </nav>
  </header>

  <main>
    <section class="hero">
      <div class="hero__media">
        <img src="./img/banner.png" alt="Манта под водой">
      </div>
      <!-- Бургер-меню для мобильных внутри hero -->
      <div class="burger-menu">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div class="hero__content">
        <h1 class="hero__title">МАНТА ФРИДАЙФИНГ</h1>
        <p class="hero__subtitle">ОБУЧЕНИЕ НЫРЯНИЮ НА ЗАДЕРЖКЕ ДЫХАНИЯ</p>
        <div class="hero__actions">
          <a href="#" class="btn btn--outline">ВЫБРАТЬ КУРС</a>
          <a href="#" class="btn btn--primary" data-modal="enrollment">ЗАПИСАТЬСЯ НА ТРЕНИРОВКУ</a>
        </div>
      </div>
    </section>

    <!-- Мобильное меню -->
    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-menu__overlay"></div>
      <div class="mobile-menu__content">
        <nav class="mobile-menu__nav">
          <a href="breathing.html" class="mobile-menu__link">ОБУЧЕНИЕ ФРИДАЙВИНГУ</a>
          <a href="breathing-practices.html" class="mobile-menu__link">ОБУЧЕНИЕ ДЫХАНИЮ</a>
          <a href="events.html" class="mobile-menu__link">СОБЫТИЯ</a>
          <a href="about.html" class="mobile-menu__link">О НАС</a>
          <a href="contacts.html" class="mobile-menu__link">КОНТАКТЫ</a>
        </nav>
        <div class="mobile-menu__contact">
          talyafree@gmail.com
        </div>
      </div>
    </div>

    <section class="about">
      <div class="about__left" aria-label="Фридайвинг — расслабление и сила">
        <div class="about__note">
          <p><strong>Фридайвинг</strong> – это здорово,</p>
          <p>это про расслабление</p>
          <p>и про силу, про умение</p>
          <p>чувствовать себя, узнавать</p>
          <p>новые возможности</p>
          <p>и кайфовать</p>
        </div>
      </div>
      <div class="about__right" aria-label="Погружение в глубину"></div>
    </section>

    <section class="courses">
      <h2 class="courses__title">ОБУЧЕНИЕ ФРИДАЙВИНГУ</h2>
      <ul class="courses__list">
        <li class="courses__item"><span class="courses__num">1</span> КУРСЫ В БАССЕЙНЕ (Екатеринбург)</li>
        <li class="courses__item"><span class="courses__num">2</span> КУРСЫ НА ГЛУБИНЕ (Екатеринбург)</li>
        <li class="courses__item"><span class="courses__num">3</span> РЕГУЛЯРНЫЕ ТРЕНИРОВКИ (Екатеринбург)</li>
        <li class="courses__item"><span class="courses__num">4</span> ИНДИВИДУАЛЬНАЯ КОНСУЛЬТАЦИЯ ПО ПОСТРОЕНИЮ ТРЕНИРОВОК (онлайн)</li>
        <li class="courses__item"><span class="courses__num">5</span> ВЫЕЗДНЫЕ МЕРОПРИЯТИЯ (весь мир)</li>
      </ul>
    </section>

    <section class="breathing">
      <h2 class="breathing__title">ДЫХАТЕЛЬНЫЕ ПРАКТИКИ</h2>
      <div class="breathing__card">
        <ul class="breathing__list">
          <li class="breathing__item"><span class="breathing__num">1</span> <span class="breathing__text">ИНДИВИДУАЛЬНОЕ ЗАНЯТИЕ ПО ДЫХАНИЮ, ПРАНАЯМЕ, СТАТИЧЕСКОЙ ЗАДЕРЖКЕ ДЫХАНИЯ</span></li>
          <li class="breathing__item"><span class="breathing__num">2</span> <span class="breathing__text">ГРУППОВОЕ ОНЛАЙН ЗАНЯТИЕ</span></li>
          <li class="breathing__item"><span class="breathing__num">3</span> <span class="breathing__text">ИНДИВИДУАЛЬНАЯ ПРОГРАММА ТРЕНИРОВОК</span></li>
          <li class="breathing__item"><span class="breathing__num">4</span> <span class="breathing__text">ВИДЕО КУРСЫ</span></li>
          <li class="breathing__item"><span class="breathing__num">5</span> <span class="breathing__text">ИНТЕНСИВЫ И МАСТЕР КЛАССЫ</span></li>
        </ul>
        <a href="#" class="breathing__btn">ПЕРЕЙТИ</a>
      </div>
    </section>

    <section class="reviews">
      <div class="reviews__header">
        <h2 class="reviews__title">ОТЗЫВЫ</h2>
        <div class="reviews__nav" aria-hidden="true">
          <button class="reviews__arrow reviews__arrow--left" type="button">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M0.292892 8.70711C-0.0976315 8.31658 -0.0976315 7.68342 0.292892 7.29289L6.65685 0.928932C7.04738 0.538408 7.68054 0.538408 8.07107 0.928932C8.46159 1.31946 8.46159 1.95262 8.07107 2.34315L2.41421 8L8.07107 13.6569C8.46159 14.0474 8.46159 14.6805 8.07107 15.0711C7.68054 15.4616 7.04738 15.4616 6.65685 15.0711L0.292892 8.70711ZM16 8V9H0.999999V8V7H16V8Z" fill="white"/>
            </svg>
          </button>
          <button class="reviews__arrow reviews__arrow--right" type="button">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15.7071 8.70711C16.0976 8.31658 16.0976 7.68342 15.7071 7.29289L9.34315 0.928932C8.95262 0.538408 8.31946 0.538408 7.92893 0.928932C7.53841 1.31946 7.53841 1.95262 7.92893 2.34315L13.5858 8L7.92893 13.6569C7.53841 14.0474 7.53841 14.6805 7.92893 15.0711C8.31946 15.4616 8.95262 15.4616 9.34315 15.0711L15.7071 8.70711ZM0 8V9H15V8V7H0V8Z" fill="white"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="reviews__slider">
        <div class="reviews__track">
          <article class="review">
            <div class="review__card">
              <div class="review__avatar"></div>
              <h3 class="review__name">Александра Лобода</h3>
              <p class="review__text"><span class="review__text-content">Знакомство с Наташей было спонтанным, можно даже сказать, очень случайным. Никогда бы не подумала что фридайвинг затронет меня настолько глубоко. Это не просто спорт, это философия жизни, способ познать себя через воду.</span></p>
              <a href="#" class="review__link">читать полностью →</a>
            </div>
          </article>

          <article class="review">
            <div class="review__card">
              <div class="review__avatar"></div>
              <h3 class="review__name">Иван Малинов</h3>
              <p class="review__text"><span class="review__text-content">Хочу выразить большую благодарность своему тренеру и замечательному человеку. Наташа, спасибо за тренировки, за терпение и за то, что открыла мне мир фридайвинга. Каждое занятие - это новый опыт и новые возможности.</span></p>
              <a href="#" class="review__link">читать полностью →</a>
            </div>
          </article>

          <article class="review">
            <div class="review__card">
              <div class="review__avatar"></div>
              <h3 class="review__name">Имя Фамилия</h3>
              <p class="review__text"><span class="review__text-content">Текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст.</span></p>
              <a href="#" class="review__link">читать полностью →</a>
            </div>
          </article>
        </div>
        
        <!-- Точки навигации для мобильной версии -->
        <div class="reviews__dots">
          <span class="reviews__dot active"></span>
          <span class="reviews__dot"></span>
          <span class="reviews__dot"></span>
        </div>
      </div>
      
      <!-- Модальное окно для полного отзыва -->
      <div class="modal" id="reviewModal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
          <div class="modal__header">
            <div class="modal__avatar"></div>
            <div class="modal__name">
              <span class="modal__first-name"></span>
              <span class="modal__last-name"></span>
            </div>
          </div>
          <p class="modal__text"></p>
        </div>
      </div>
    </section>

    <section class="events">
      <h2 class="events__title">СОБЫТИЯ</h2>
      <div class="events__card">
        <div class="events__content">
          <a href="#" class="events__btn">ПОДРОБНЕЕ</a>
        </div>
      </div>
      <div class="events__mobile-btn">
        <a href="#" class="events__btn events__btn--mobile">ПОДРОБНЕЕ</a>
      </div>
    </section>

    <section class="about-contacts">
      <div class="about-contacts__left">
        <h2 class="about-contacts__title">О НАС</h2>
        <div class="about-contacts__card about-contacts__card--about">
          <div class="about-contacts__content">
            <a href="#" class="about-contacts__btn">ПОДРОБНЕЕ</a>
          </div>
        </div>
        <div class="about-contacts__mobile-btn">
          <a href="#" class="about-contacts__btn about-contacts__btn--mobile">ПОДРОБНЕЕ</a>
        </div>
      </div>
      
      <div class="about-contacts__right">
        <h2 class="about-contacts__title">КОНТАКТЫ</h2>
        <div class="about-contacts__card about-contacts__card--contacts">
          <div class="contacts__info">
            <p class="contacts__phone">8-961-764-13-27</p>
            <p class="contacts__email">talyafree@gmail.com</p>
          </div>
          <div class="contacts__social">
            <a href="#" class="contacts__social-link contacts__social-link--telegram">
              <img src="./img/telegram.png" alt="Telegram" width="20" height="20">
            </a>
            <a href="#" class="contacts__social-link contacts__social-link--vk">
              <img src="./img/vk.png" alt="VK" width="20" height="20">
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer__content">
      <nav class="footer__nav">
        <a href="#" class="footer__link">ОБУЧЕНИЕ ДЫХАНИЮ</a>
        <a href="#" class="footer__link">ОБУЧЕНИЕ ФРИДАЙВИНГУ</a>
        <a href="#" class="footer__link">СОБЫТИЯ</a>
        <a href="#" class="footer__link">О НАС</a>
        <a href="#" class="footer__link">КОНТАКТЫ</a>
      </nav>
      
      <div class="footer__contacts-wrapper">
        <div class="footer__contacts">
          <span class="footer__phone">8-961-764-13-27</span>
          <span class="footer__email">talyafree@gmail.com</span>
        </div>
      </div>
      
      <div class="footer__contacts-wrapper">
        <div class="footer__social">
          <a href="#" class="footer__social-link">
            <img src="./img/telegram.png" alt="Telegram" width="20" height="20">
          </a>
          <a href="#" class="footer__social-link">
            <img src="./img/vk.png" alt="VK" width="20" height="20">
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Reviews slider functionality
    document.addEventListener('DOMContentLoaded', function() {
      const track = document.querySelector('.reviews__track');
      const leftArrow = document.querySelector('.reviews__arrow--left');
      const rightArrow = document.querySelector('.reviews__arrow--right');
      
      let isAnimating = false;
      
      function moveLeft() {
        if (isAnimating) return;
        isAnimating = true;
        
        // Получаем свежий список элементов
        const reviews = document.querySelectorAll('.review');
        const firstReview = reviews[0];
        track.appendChild(firstReview);
        
        setTimeout(() => {
          isAnimating = false;
        }, 500);
      }
      
      function moveRight() {
        if (isAnimating) return;
        isAnimating = true;
        
        // Получаем свежий список элементов
        const reviews = document.querySelectorAll('.review');
        const lastReview = reviews[reviews.length - 1];
        track.insertBefore(lastReview, reviews[0]);
        
        setTimeout(() => {
          isAnimating = false;
        }, 500);
      }
      
      if (leftArrow) {
        leftArrow.addEventListener('click', moveLeft);
      }
      
      if (rightArrow) {
        rightArrow.addEventListener('click', moveRight);
      }
      
      // Мобильные свайпы и точки навигации
      console.log('Screen width:', window.innerWidth);
      if (window.innerWidth <= 500) {
        console.log('Initializing mobile slider');
        const reviewsSlider = document.querySelector('.reviews__slider');
        const dots = document.querySelectorAll('.reviews__dot');
        const mobileReviews = document.querySelectorAll('.review');
        const totalMobileReviews = mobileReviews.length;
        let currentMobileIndex = 0;
        let startX = 0;
        let isDragging = false;
        
        function updateMobileDots() {
          dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === currentMobileIndex);
          });
        }
        
        function moveToMobileReview(index) {
          if (!track) {
            console.log('Track not found in moveToMobileReview');
            return;
          }
          
          if (index < 0) index = totalMobileReviews - 1;
          if (index >= totalMobileReviews) index = 0;
          currentMobileIndex = index;
          
          console.log('Moving to review:', currentMobileIndex, 'Total:', totalMobileReviews);
          track.style.transform = `translateX(-${currentMobileIndex * 100}%)`;
          updateMobileDots();
        }
        
        // Touch события для свайпов
        const reviewsSection = document.querySelector('.reviews');
        if (reviewsSection) {
          reviewsSection.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            isDragging = true;
            console.log('Touch start:', startX);
          });
          
          reviewsSection.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
          });
          
          reviewsSection.addEventListener('touchend', (e) => {
            if (!isDragging) return;
            isDragging = false;
            
            const endX = e.changedTouches[0].clientX;
            const diff = startX - endX;
            
            console.log('Touch end:', endX, 'diff:', diff);
            
            if (Math.abs(diff) > 50) { // Минимальное расстояние для свайпа
              if (diff > 0) {
                console.log('Swipe left - next');
                moveToMobileReview(currentMobileIndex + 1); // Свайп влево - следующий
              } else {
                console.log('Swipe right - prev');
                moveToMobileReview(currentMobileIndex - 1); // Свайп вправо - предыдущий
              }
            }
          });
          
          // Клики по точкам
          dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
              moveToMobileReview(index);
            });
          });
          
        // Инициализация мобильного слайдера
        if (track) {
          track.style.transform = 'translateX(0%)';
          updateMobileDots();
          console.log('Mobile slider initialized');
        } else {
          console.log('Track not found for mobile slider');
        }
        }
      }
      
      // Модальное окно для отзывов
      const modal = document.getElementById('reviewModal');
      const modalFirstName = document.querySelector('.modal__first-name');
      const modalLastName = document.querySelector('.modal__last-name');
      const modalText = document.querySelector('.modal__text');
      
      // Полные тексты отзывов
      const fullReviews = {
        'Александра Лобода': 'Знакомство с Наташей было спонтанным, можно даже сказать, очень случайным. Никогда бы не подумала, что фридайвинг затронет мое сердце и мне так проникнется вся та атмосфера, что таится под водой! Наташа, спасибо за курс, профессиональный подход, терпение и внимание к деталям! +1 к моим мирам!',
        'Иван Малинов': 'Хочу выразить большую благодарность своему тренеру и замечательному человеку. Наташа, спасибо за тренировки, за терпение и за то, что открыла мне мир фридайвинга. Каждое занятие - это новый опыт и новые возможности. Рекомендую всем, кто хочет познать себя через воду!',
        'Имя Фамилия': 'Текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст текст. Полный текст отзыва будет здесь, когда у нас будет реальный контент.'
      };
      
      // Обработчики для кнопок "читать полностью"
      document.addEventListener('click', function(e) {
        if (e.target.classList.contains('review__link')) {
          e.preventDefault();
          e.stopPropagation(); // Останавливаем всплытие события
          console.log('Клик по ссылке обработан');
          
          const reviewCard = e.target.closest('.review');
          const name = reviewCard.querySelector('.review__name').textContent;
          console.log('Имя:', name);
          
          // Разделяем имя и фамилию
          const nameParts = name.split(' ');
          const firstName = nameParts[0] || '';
          const lastName = nameParts.slice(1).join(' ') || '';
          
          modalFirstName.textContent = firstName;
          modalLastName.textContent = lastName;
          modalText.textContent = fullReviews[name] || 'Полный текст отзыва недоступен.';
          
          // Позиционируем модальное окно относительно секции отзывов
          const reviewsSection = document.querySelector('.reviews');
          const reviewsRect = reviewsSection.getBoundingClientRect();
          const modalContent = document.querySelector('.modal__content');
          
          // Устанавливаем позицию модального окна
          modal.style.top = reviewsRect.top + 'px';
          modal.style.left = reviewsRect.left + 'px';
          modal.style.width = reviewsRect.width + 'px';
          modal.style.height = reviewsRect.height + 'px';
          
          modal.classList.add('active');
          // Блокируем скролл страницы
          document.body.classList.add('modal-open');
          console.log('Модальное окно должно открыться');
        }
      });
      
      // Закрытие модального окна
      function closeModal() {
        modal.classList.remove('active');
        // Разблокируем скролл страницы
        document.body.classList.remove('modal-open');
      }
      
      // Закрытие при клике на любую часть экрана кроме отзыва
      document.addEventListener('click', function(e) {
        if (modal.classList.contains('active')) {
          // Проверяем, что клик не по самому модальному окну и не по кнопке "читать полностью"
          if (!e.target.closest('.modal__content') && !e.target.classList.contains('review__link')) {
            closeModal();
          }
        }
      });
      
      // Закрытие по Escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
          closeModal();
        }
      });
      
      // Перепозиционирование при изменении размера окна
      window.addEventListener('resize', function() {
        if (modal.classList.contains('active')) {
          const reviewsSection = document.querySelector('.reviews');
          const reviewsRect = reviewsSection.getBoundingClientRect();
          
          modal.style.top = reviewsRect.top + 'px';
          modal.style.left = reviewsRect.left + 'px';
          modal.style.width = reviewsRect.width + 'px';
          modal.style.height = reviewsRect.height + 'px';
        }
      });
      
      // Мобильное меню
      const burgerMenu = document.querySelector('.burger-menu');
      const mobileMenu = document.getElementById('mobileMenu');
      const mobileMenuOverlay = document.querySelector('.mobile-menu__overlay');
      
      function closeMobileMenu() {
        mobileMenu.classList.remove('active');
      }
      
      function toggleMobileMenu() {
        if (mobileMenu.classList.contains('active')) {
          closeMobileMenu();
        } else {
          mobileMenu.classList.add('active');
        }
      }
      
      if (burgerMenu) {
        burgerMenu.addEventListener('click', toggleMobileMenu);
      }
      
      if (mobileMenuOverlay) {
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);
      }
      
      // Закрытие меню при клике на ссылку
      const mobileMenuLinks = document.querySelectorAll('.mobile-menu__link');
      mobileMenuLinks.forEach(link => {
        link.addEventListener('click', closeMobileMenu);
      });
    });
  </script>

  <!-- Модальное окно записи -->
  <div class="enrollment-modal" id="enrollmentModal">
    <div class="enrollment-modal__overlay"></div>
    <div class="enrollment-modal__content">
      <div class="enrollment-modal__close">&times;</div>
      <h2 class="enrollment-modal__title">ЗАПИСАТЬСЯ НА КУРС</h2>
      
      <form class="enrollment-modal__form">
        <div class="enrollment-modal__field">
          <input type="text" id="fullName" name="fullName" placeholder="Ф.И.О. *" required>
        </div>
        <div class="enrollment-modal__field">
          <input type="email" id="email" name="email" placeholder="Email: *" required>
        </div>
        <div class="enrollment-modal__field">
          <input type="tel" id="phone" name="phone" placeholder="Телефон: *" required>
        </div>
        
        <p class="enrollment-modal__privacy">Отправляя данные вы подтверждаете согласие с политикой конфиденциальности</p>
        
        <div class="enrollment-modal__section">
          <h3 class="enrollment-modal__section-title">ВЫБЕРЕТЕ КУРС:</h3>
          <h4 class="enrollment-modal__subsection-title">ОБУЧЕНИЕ ФРИДАЙВИНГУ:</h4>
          <div class="enrollment-modal__options">
            <label class="enrollment-modal__option">
              <input type="radio" name="course" value="pool-basic" class="enrollment-modal__radio">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Курсы в бассейне (Екатеринбург)</span>
            </label>
            <label class="enrollment-modal__option">
              <input type="radio" name="course" value="pool-advanced" class="enrollment-modal__radio" data-submenu="depth-courses" id="depth-courses-main">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Курсы на глубине (Екатеринбург)</span>
            </label>
            <div class="enrollment-modal__submenu" id="depth-courses">
              <div class="enrollment-modal__suboption" data-value="depth-basic">
                <span class="enrollment-modal__radio-custom"></span>
                <span class="enrollment-modal__option-text">БАЗОВЫЙ КУРС (1 ВОЛНА) 22000р.</span>
              </div>
              <div class="enrollment-modal__suboption" data-value="depth-advanced">
                <span class="enrollment-modal__radio-custom"></span>
                <span class="enrollment-modal__option-text">ПРОДВИНУТЫЙ КУРС (2 ВОЛНА) 30000р.</span>
              </div>
              <div class="enrollment-modal__suboption" data-value="depth-super-advanced">
                <span class="enrollment-modal__radio-custom"></span>
                <span class="enrollment-modal__option-text">ЕЩЕ БОЛЕЕ ПРОДВИНУТЫЙ КУРС (З ВОЛНА) 30000р.</span>
              </div>
            </div>
            <label class="enrollment-modal__option">
              <input type="radio" name="course" value="regular-training" class="enrollment-modal__radio">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Регулярные тренировки (Екатеринбург)</span>
            </label>
            <label class="enrollment-modal__option">
              <input type="radio" name="course" value="individual-consultation" class="enrollment-modal__radio">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Индивидуальная консультация по построению тренировок (онлайн)</span>
            </label>
          </div>
          <button type="button" class="enrollment-modal__btn">ЗАПИСАТЬСЯ</button>
        </div>
        
        <div class="enrollment-modal__section">
          <h4 class="enrollment-modal__subsection-title">ДЫХАТЕЛЬНЫЕ ПРАКТИКИ:</h4>
          <div class="enrollment-modal__options">
            <label class="enrollment-modal__option">
              <input type="radio" name="breathing-course" value="individual-breathing" class="enrollment-modal__radio">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Индивидуальное занятие по дыханию, пранаяме, статической задержкой дыхания</span>
            </label>
            <label class="enrollment-modal__option">
              <input type="radio" name="breathing-course" value="group-online" class="enrollment-modal__radio">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Групповое онлайн занятие</span>
            </label>
            <label class="enrollment-modal__option">
              <input type="radio" name="breathing-course" value="individual-program" class="enrollment-modal__radio">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Индивидуальная программа тренировок</span>
            </label>
            <label class="enrollment-modal__option">
              <input type="radio" name="breathing-course" value="video-courses" class="enrollment-modal__radio">
              <span class="enrollment-modal__radio-custom"></span>
              <span class="enrollment-modal__option-text">Видео курсы</span>
            </label>
          </div>
          <button type="button" class="enrollment-modal__btn">ЗАПИСАТЬСЯ</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Модальное окно записи
      const enrollmentModal = document.getElementById('enrollmentModal');
      const enrollmentModalOverlay = document.querySelector('.enrollment-modal__overlay');
      const enrollmentModalClose = document.querySelector('.enrollment-modal__close');
      const enrollmentButtons = document.querySelectorAll('[data-modal="enrollment"]');
      
      function openEnrollmentModal() {
        enrollmentModal.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
      
      function closeEnrollmentModal() {
        enrollmentModal.classList.remove('active');
        document.body.style.overflow = '';
      }
      
      // Открытие модального окна
      enrollmentButtons.forEach(button => {
        button.addEventListener('click', function(e) {
          e.preventDefault();
          openEnrollmentModal();
        });
      });
      
      // Закрытие модального окна
      if (enrollmentModalClose) {
        enrollmentModalClose.addEventListener('click', closeEnrollmentModal);
      }
      
      if (enrollmentModalOverlay) {
        enrollmentModalOverlay.addEventListener('click', closeEnrollmentModal);
      }
      
      // Закрытие по Escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && enrollmentModal.classList.contains('active')) {
          closeEnrollmentModal();
        }
      });
      
      // Управление подменю
      const submenuRadios = document.querySelectorAll('.enrollment-modal__radio[data-submenu]');
      submenuRadios.forEach(radio => {
        radio.addEventListener('change', function() {
          const submenuId = this.getAttribute('data-submenu');
          const submenu = document.getElementById(submenuId);
          
          // Скрыть все подменю
          document.querySelectorAll('.enrollment-modal__submenu').forEach(menu => {
            menu.classList.remove('active');
          });
          
          // Сбросить выбор в подменю
          document.querySelectorAll('.enrollment-modal__suboption').forEach(subOption => {
            subOption.classList.remove('selected');
          });
          
          // Показать выбранное подменю
          if (submenu && this.checked) {
            submenu.classList.add('active');
          }
        });
      });
      
      // Сброс подменю при выборе других основных опций
      const mainOptions = document.querySelectorAll('.enrollment-modal__options .enrollment-modal__radio:not([data-submenu])');
      mainOptions.forEach(radio => {
        radio.addEventListener('change', function() {
          if (this.checked) {
            // Скрыть все подменю
            document.querySelectorAll('.enrollment-modal__submenu').forEach(menu => {
              menu.classList.remove('active');
            });
            
            // Сбросить выбор в подменю
            document.querySelectorAll('.enrollment-modal__suboption').forEach(subOption => {
              subOption.classList.remove('selected');
            });
          }
        });
      });
      
      // Выбор подпунктов
      const submenuOptions = document.querySelectorAll('.enrollment-modal__suboption');
      submenuOptions.forEach(option => {
        option.addEventListener('click', function() {
          // Сбросить выбор других подпунктов
          document.querySelectorAll('.enrollment-modal__suboption').forEach(subOption => {
            subOption.classList.remove('selected');
          });
          
          // Выбрать текущий подпункт
          this.classList.add('selected');
          
          // Сбросить выбор других основных опций
          document.querySelectorAll('.enrollment-modal__options .enrollment-modal__radio:not([data-submenu])').forEach(mainRadio => {
            mainRadio.checked = false;
          });
          
          // Убедиться, что родительская опция выбрана
          const parentRadio = document.getElementById('depth-courses-main');
          if (parentRadio) {
            parentRadio.checked = true;
          }
          
          // Оставить подменю открытым
          const submenu = this.closest('.enrollment-modal__submenu');
          if (submenu) {
            submenu.classList.add('active');
          }
        });
      });
    });
  </script>
</body>
</html>


